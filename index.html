<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®ng D·ª•ng M√£ H√≥a Tin Nh·∫Øn - AES & QR Code</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Th∆∞ vi·ªán CryptoJS cho m√£ h√≥a AES -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <!-- Th∆∞ vi·ªán QRCode.js ƒë·ªÉ t·∫°o QR code -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- Th∆∞ vi·ªán HTML5-QRCode ƒë·ªÉ qu√©t QR code -->
    <script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîê ·ª®ng D·ª•ng M√£ H√≥a Tin Nh·∫Øn</h1>
            <p class="subtitle">B·∫£o m·∫≠t tin nh·∫Øn v·ªõi AES-256 v√† QR Code</p>
        </header>

        <!-- Tab Navigation -->
        <div class="tabs">
            <button class="tab-button active" data-tab="encrypt">üìù M√£ H√≥a</button>
            <button class="tab-button" data-tab="decrypt">üîì Gi·∫£i M√£</button>
            <button class="tab-button" data-tab="scanner">üì∑ Qu√©t QR</button>
        </div>

        <!-- Tab 1: M√£ h√≥a tin nh·∫Øn -->
        <div id="encrypt-tab" class="tab-content active">
            <div class="section">
                <h2>M√£ H√≥a Tin Nh·∫Øn</h2>
                <div class="form-group">
                    <label for="messageInput">üì© Tin nh·∫Øn c·ªßa b·∫°n:</label>
                    <textarea id="messageInput" rows="5" placeholder="Nh·∫≠p tin nh·∫Øn mu·ªën m√£ h√≥a..."></textarea>
                </div>
                <div class="form-group">
                    <label for="encryptKey">üîë M·∫≠t kh·∫©u chung (8-32 k√Ω t·ª±):</label>
                    <input type="password" id="encryptKey" placeholder="Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ m√£ h√≥a" maxlength="32"/>
                    <small>‚ö†Ô∏è B·∫°n v√† ng∆∞·ªùi nh·∫≠n ph·∫£i bi·∫øt m·∫≠t kh·∫©u n√†y!</small>
                </div>
                <button id="encryptButton" class="btn-primary">üîí M√£ H√≥a & T·∫°o QR Code</button>
                
                <div id="encryptResult" class="result-section" style="display: none;">
                    <h3>‚úÖ M√£ H√≥a Th√†nh C√¥ng!</h3>
                    <div class="encrypted-text">
                        <label>Tin nh·∫Øn ƒë√£ m√£ h√≥a:</label>
                        <textarea id="encryptedText" readonly rows="3"></textarea>
                        <button id="copyButton" class="btn-secondary">üìã Sao ch√©p</button>
                    </div>
                    <div class="qr-container">
                        <label>QR Code (qu√©t ƒë·ªÉ gi·∫£i m√£):</label>
                        <div id="qrCodeDisplay"></div>
                        <button id="downloadQR" class="btn-secondary">üíæ T·∫£i QR Code</button>
                    </div>
                    <div class="warning-box">
                        <p>‚ö° <strong>T√≠nh nƒÉng t·ª± h·ªßy:</strong></p>
                        <label>
                            <input type="checkbox" id="selfDestruct" />
                            X√≥a tin nh·∫Øn sau khi hi·ªÉn th·ªã QR Code (5 gi√¢y)
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: Gi·∫£i m√£ th·ªß c√¥ng -->
        <div id="decrypt-tab" class="tab-content">
            <div class="section">
                <h2>Gi·∫£i M√£ Tin Nh·∫Øn</h2>
                <div class="form-group">
                    <label for="encryptedInput">üîí Tin nh·∫Øn ƒë√£ m√£ h√≥a:</label>
                    <textarea id="encryptedInput" rows="3" placeholder="D√°n tin nh·∫Øn ƒë√£ m√£ h√≥a v√†o ƒë√¢y..."></textarea>
                </div>
                <div class="form-group">
                    <label for="decryptKey">üîë M·∫≠t kh·∫©u chung:</label>
                    <input type="password" id="decryptKey" placeholder="Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ gi·∫£i m√£"/>
                </div>
                <button id="decryptButton" class="btn-primary">üîì Gi·∫£i M√£</button>
                
                <div id="decryptResult" class="result-section" style="display: none;">
                    <h3>‚úÖ Gi·∫£i M√£ Th√†nh C√¥ng!</h3>
                    <div class="decrypted-message">
                        <label>Tin nh·∫Øn g·ªëc:</label>
                        <div id="decryptedMessage" class="message-box"></div>
                    </div>
                </div>
                
                <div id="decryptError" class="error-section" style="display: none;">
                    <h3>‚ùå Gi·∫£i M√£ Th·∫•t B·∫°i!</h3>
                    <p id="errorMessage"></p>
                </div>
            </div>
        </div>

        <!-- Tab 3: Qu√©t QR Code -->
        <div id="scanner-tab" class="tab-content">
            <div class="section">
                <h2>Qu√©t QR Code</h2>
                <p>S·ª≠ d·ª•ng camera ƒë·ªÉ qu√©t QR Code ch·ª©a tin nh·∫Øn ƒë√£ m√£ h√≥a</p>
                
                <div id="qr-reader" style="width: 100%;"></div>
                <button id="startScanButton" class="btn-primary">üì∑ B·∫Øt ƒê·∫ßu Qu√©t</button>
                <button id="stopScanButton" class="btn-secondary" style="display: none;">‚èπÔ∏è D·ª´ng Qu√©t</button>
                
                <div id="scanResult" class="result-section" style="display: none;">
                    <h3>üì± QR Code ƒê√£ Qu√©t!</h3>
                    <div class="form-group">
                        <label>Tin nh·∫Øn ƒë√£ m√£ h√≥a:</label>
                        <textarea id="scannedData" readonly rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="scanDecryptKey">üîë Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ gi·∫£i m√£:</label>
                        <input type="password" id="scanDecryptKey" placeholder="M·∫≠t kh·∫©u"/>
                    </div>
                    <button id="decryptScannedButton" class="btn-primary">üîì Gi·∫£i M√£</button>
                    
                    <div id="scannedDecryptResult" class="decrypted-message" style="display: none;">
                        <label>Tin nh·∫Øn g·ªëc:</label>
                        <div id="scannedDecryptedMessage" class="message-box"></div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>üîí M√£ h√≥a AES-256 | üì± QR Code | üõ°Ô∏è B·∫£o m·∫≠t ho√†n to√†n tr√™n tr√¨nh duy·ªát</p>
            <p class="note">‚ö†Ô∏è Kh√¥ng l∆∞u tr·ªØ d·ªØ li·ªáu tr√™n server - M·ªçi x·ª≠ l√Ω ƒë·ªÅu ·ªü client-side</p>
        </footer>
    </div>

    <!-- Load c√°c file JavaScript -->
    <script src="js/encryption.js"></script>
    <script src="js/qrcode.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/app.js"></script>
</body>
</html>